---
title: Linux 入门总结(五)
copyright: true
date: 2018-10-12 19:55:12
updated:
comments:
tags: Linux 基础
categories: Linux 基础
layout:
permalink:
top:
password:
---
1、在 Linux 中，umask 的默认值为 022，用来定义默认新建文件的缺省权限。直接执行 umask 命令会得到一个 4 位的数字：0022 第一个 0 表示特殊权限，022 代表正常的权限，其实 022 是权限掩码，真正的缺省权限是 777-022=755 即默认的权限 rwxr-xr-x。

注意：在 Linux 权限管理有一个最基本的定义：缺省创建的文件是不能具有可执行权限的。在 Linux 系统中任何新建的文件都会把可执行权限去掉。所以新建文件实际的权限为 777-022-111 = 644，即rw-r--r--。

2、RHEL 的全称是 Red Hat Enterprise Linux 红帽企业版 Linux。

3、「n1,n2d」删除 n1 到 n2 行。例如：删除 1 到 10 行「:1,10d」。「n，$d」删除从某行开始至文本末尾。例如：删除第 8 行至末尾「:8,$d」。在 vim 中，0 表示行首，$ 表示行尾。

4、在内存小于 2G 的情况下，交换分区应为内存的 2 倍，超过 2G 的话，交换分区为物理内存加上 2G。

Red Hat 官方文库中有一段话：目前 Red Hat（红帽官方）推荐交换分区的大小应当与系统物理内存的大小保持线性比例关系。不过在小于 2GB 物理内存的系统中，交换分区大小应该设置为内存大小的两倍，如果内存大小多于 2GB，交换分区大小应该是物理内存大小加上 2GB。其原因在于，系统中的物理内存越大，对于内存的负荷可能也越大。

5、内核分为：进程管理子系统、内存管理子系统、I/O 管理子系统、文件管理系统 4 部分。

6、UNIX 系统由内核、shell、文件系统和应用程序 4 部分组成。

7、系统调用有 5 个分别为：open、write、read、close、ioctl。

所谓系统调用，就是内核提供的、功能十分强大的一系列的函数。这些系统调用是在内核中实现的，再通过一定的方式把系统调用给用户，一般都通过门(gate)陷入(trap)实现。系统调用是用户程序和内核交互的接口。  

整个系统调用的过程总结如下：    
1. 执行用户程序(如: fork)  
2. 根据 glibc 中的函数实现，取系统调用号并执行 int $0x80 产生中断。  
3. 进行址空间的转换和堆栈的切换，执行 SAVE_ALL（进行内核模式）。  
4. 进行中断处理根据系统调用表调用内核函数。  
5. 执行内核函数。  
6. 执行RESTORE_ALL并返回用户模式。  

8、cat 有三个功能：  
1. 一次显示整个文件。「cat filename」  
2. 从键盘创建新文件，但是不能编辑已有文件。「cat > filename」  
3. 将几个文件合并为一个文件。「cat file1 file2 > file」  

9、Linux下进程通信的八种方法：管道(pipe)，命名管道(FIFO)，内存映射(mapped memeory)，消息队列(message queue)，共享内存(shared memory)，信号量(semaphore)，信号(signal)，套接字(Socket)。

10、ssh 用于远程登录；scp 是 secure copy 的缩写，用于远程数据传输。

11、MMU(Memory Management Unit) 内存管理单元，是中央处理器用来管理虚拟内存和物理内存寄存器的控制线路，同时也负责虚拟内存映射为物理内存等。即在 CPU 和物理内存之间进行地址转换，将地址从逻辑空间映映射到物理地址空间。

12、压缩解压命令 tar
```
格式：tar [选项] [压缩后文件名] [目录]
选项：
  -c(create)  打包
  -x(extract)  解包
  -v(verbose)  显示详细信息
  -f(file)  指定文件名
  -z(gzip)  打包同时压缩/解压缩
```

13、内核中，对应于每个进程都有一个文件描述符表，表示这个进程打开的所有文件。文件描述表中每一项都是一个指针，指向一个用于描述打开的文件的数据块———file 对象，file 对象中描述了文件的打开模式，读写位置等重要信息，当进程打开一个文件时，内核就会创建一个新的 file 对象。需要注意的是，file 对象不是专属于某个进程的，不同进程的文件描述符表中的指针可以指向相同的 file 对象，从而共享这个打开的文件。file 对象有引用计数，记录了引用这个对象的文件描述符个数，只有当引用计数为 0 时，内核才销毁 file 对象，因此某个进程关闭文件，不影响与之共享同一个 file 对象的进程。

14、查找当前目录不包括子目录命令：`find . -name "*.c" -maxdepth 1`。最大深度为 1，表示当前目录。如果为 0，则表示只对命令行参数有效。

注意：符号「>」是定向输出到文件，如果文件不存在，就创建文件；如果文件存在，就将其清空；



可以把一块网卡设置多个IP地址，eg：eth0:1表示加了一个虚拟网卡，意思是给网卡绑定多一个IP地址。


7、
wc -l        # 统计行数
wc -w      # 统计单词数量
